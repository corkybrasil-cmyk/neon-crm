<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dev ‚Äî Neon CRM</title>
  <link rel="stylesheet" href="assets/styles.css" />
  <link rel="icon" type="image/svg+xml" href="assets/favicon.svg" />
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo" aria-label="Neon logo">
        <svg width="42" height="36" viewBox="0 0 431 368" xmlns="http://www.w3.org/2000/svg">
          <g mask="url(#m)">
            <mask id="m" maskUnits="userSpaceOnUse" x="0" y="0" width="431" height="368">
              <path d="M0.226562 0.716797H430.663V367.476H0.226562V0.716797Z" fill="#fff"/>
            </mask>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M255.207 109.518H229.474C226.689 109.518 224.419 107.247 224.608 104.49C228.068 49.238 288.346 19.4766 323.081 16.7735C325.838 16.5573 328.081 18.8008 328.081 21.5851V55.4282C328.081 58.2394 325.757 60.456 322.973 60.6992C293.212 63.2942 273.858 91.65 269.398 105.247C268.533 107.869 270.641 110.139 273.425 110.139H301.7C303.781 110.139 305.457 111.815 305.457 113.897V116.411C305.457 118.492 303.781 120.195 301.7 120.195H273.425C270.641 120.195 268.371 122.466 268.587 125.223C271.155 159.931 300.132 176.798 323.054 178.988C325.811 179.231 328.081 181.475 328.081 184.259V216.886C328.081 219.67 325.757 221.913 322.973 221.805C249.449 218.751 226.419 159.309 224.581 125.169C224.419 122.384 226.662 120.195 229.447 120.195H255.207C257.991 120.195 260.234 117.924 260.234 115.167V114.545C260.234 111.761 257.991 109.518 255.207 109.518ZM3.98382 7.15039H39.7994C41.8808 7.15039 43.5567 8.82633 43.5567 10.9077V18.6387C43.5567 21.4229 46.3409 22.9637 48.8007 21.6121C57.1531 17.0168 75.2366 9.01555 105.106 9.01555C163.438 9.01555 203.74 50.4274 205.551 104.49C205.606 106.571 203.903 108.247 201.821 108.247H166.681C164.6 108.247 162.897 106.571 162.735 104.49C160.681 78.9724 138.029 50.4814 105.106 50.4814C55.5043 50.4814 44.8542 90.9472 43.2053 105.139C42.962 107.22 41.2591 108.869 39.1777 108.869H4.63256C2.55119 108.869 0.848268 107.22 0.848268 105.139C0.821232 97.6509 0.74015 85.4869 0.604992 71.8361C0.442811 51.3464 0.253591 27.5049 0.226562 10.8807C0.226562 8.7993 1.90246 7.15039 3.98382 7.15039ZM263.397 264.65H227.581C225.5 264.65 223.824 266.299 223.824 268.38C223.851 285.004 224.04 308.846 224.203 329.336C224.311 342.986 224.419 355.15 224.446 362.638C224.446 364.719 226.122 366.395 228.203 366.395H262.748C264.83 366.395 266.533 364.719 266.776 362.638C268.452 348.447 279.102 307.981 328.703 307.981C361.599 307.981 384.251 336.499 386.333 361.989C386.495 364.071 388.171 365.747 390.252 365.747H425.419C427.5 365.747 429.203 364.071 429.122 361.989C427.338 307.927 387.008 266.515 328.703 266.515C298.807 266.515 280.724 274.516 272.398 279.112C269.938 280.49 267.154 278.922 267.154 276.138V268.407C267.154 266.326 265.478 264.65 263.397 264.65ZM5.25427 253.972H38.556C41.3402 253.972 43.5567 251.729 43.827 248.972C45.8003 228.455 59.4507 194.936 103.862 194.936C143.327 194.936 160.248 227.644 162.6 248.972C162.924 251.729 165.141 253.972 167.925 253.972H201.2C203.984 253.972 206.227 251.729 206.038 248.972C203.713 215.534 178.44 150.335 103.862 150.335C21.5808 150.335 2.14574 215.967 0.361716 248.972C0.226564 251.729 2.47011 253.972 5.25427 253.972ZM167.898 262.758H201.2C203.984 262.758 206.227 264.974 206.092 267.758C204.335 300.737 184.873 366.395 102.592 366.395C28.0141 366.395 2.74041 301.196 0.415777 267.758C0.226561 264.974 2.47011 262.758 5.25427 262.758H38.556C41.3132 262.758 43.5567 265.001 43.854 267.758C46.2057 289.086 63.1539 321.794 102.592 321.794C147.003 321.794 160.681 288.248 162.627 267.731C162.897 264.974 165.141 262.758 167.898 262.758Z" fill="var(--logo-neon)"/>
          </g>
        </svg>
      </div>
      <div class="app-title"><span class="neon">Neon</span> CRM</div>
    </div>
    <div class="right">
      <span class="tiny">Dados salvos localmente</span>
      <button class="logout-btn" onclick="logout()">Sair</button>
    </div>
  </header>

  <div class="layout">
    <nav class="collapsed">
      <button class="tab" onclick="navigateTo('dashboard')"><span class="icon">üìä</span><span class="label">Dashboard</span></button>
      <button class="tab" onclick="navigateTo('novo-lead')"><span class="icon">‚ûï</span><span class="label">Novo Lead</span></button>
      <button class="tab" onclick="navigateTo('funil-vendas')"><span class="icon">üß©</span><span class="label">Funil de Vendas</span></button>
      <button class="tab" onclick="navigateTo('tarefas')"><span class="icon">üóÇÔ∏è</span><span class="label">Tarefas</span></button>
      <button class="tab" onclick="navigateTo('pessoas-empresas')"><span class="icon">üë•</span><span class="label">Pessoas & Empresas</span></button>
      <button class="tab active" onclick="navigateTo('dev')"><span class="icon">üõ†Ô∏è</span><span class="label">Dev</span></button>
    </nav>

    <main>
      <div class="toolbar card">
        <div class="row" style="width:100%">
          <div>
            <h3>Ferramentas de Desenvolvimento</h3>
          </div>
          <div class="right" style="align-self:flex-end">
            <button class="backup-btn" onclick="openBackupModal()">
              <span class="icon">üíæ</span>
              Salvar & Backup
            </button>
          </div>
        </div>
      </div>

      <div class="dev-grid">
        <div class="card">
          <h3>Tema & Layout</h3>
          <div class="row">
            <div><label>Cor de destaque</label><input id="setNeon" type="color" value="#c7f603"/> <span id="dotNeon" class="color-dot"></span></div>
            <div><label>Cor de destaque (2)</label><input id="setNeon2" type="color" value="#9cff04"/> <span id="dotNeon2" class="color-dot"></span></div>
            <div style="flex:0 0 220px"><label>Usar degrad√™ destaque?</label><input id="setNeonGrad" type="checkbox" checked></div>
          </div>
          <div class="row">
            <div><label>Fundo</label><input id="setBg" type="color" value="#0b1020"/> <span id="dotBg" class="color-dot"></span></div>
            <div><label>Fundo (2)</label><input id="setBg2" type="color" value="#0e1430"/> <span id="dotBg2" class="color-dot"></span></div>
            <div style="flex:0 0 220px"><label>Usar degrad√™ fundo?</label><input id="setBgGrad" type="checkbox" checked></div>
          </div>
          <div class="row">
            <div><label>Cor da fonte (global)</label><input id="setFontColor" type="color" value="#eef3ff"/> <span id="dotFont" class="color-dot"></span></div>
            <div><label>Cor da fonte secund√°ria</label><input id="setFontDimColor" type="color" value="#c8d0ff"/> <span id="dotFontDim" class="color-dot"></span></div>
            <div><label>Fonte geral</label><input id="setFont" placeholder="Ex: Inter, Poppins"/></div>
          </div>
          <div class="row">
            <button id="applyTheme" class="primary">Aplicar</button>
            <button id="resetTheme" class="ghost">Restaurar</button>
          </div>
          <div class="tiny">Dica: todas as cores ficam em vari√°veis CSS no <code>:root</code>.</div>
        </div>
        
        <div class="card">
          <h3>Menu</h3>
          <div class="row">
            <div><label>Fundo do menu (CSS)</label><input id="setNavBg" placeholder="Ex: linear-gradient(180deg,#121734,#0f1540)"/></div>
            <div><label>Cor do texto do menu</label><input id="setNavText" type="color" value="#eef3ff"/> <span id="dotNavText" class="color-dot"></span></div>
            <div><label>Fonte do menu</label><input id="setNavFont" placeholder="Ex: Poppins, Inter"/></div>
            <div>
              <label>Posi√ß√£o do menu</label>
              <select id="setNavPos">
                <option value="left" selected>Lateral esquerda</option>
                <option value="top">Topo (cabe√ßalho)</option>
              </select>
            </div>
          </div>
          <div class="row">
            <button id="applyMenu" class="primary">Aplicar menu</button>
            <button id="resetMenu" class="ghost">Restaurar menu</button>
          </div>
        </div>
        
        <div class="card">
          <h3>Personaliza√ß√£o do CRM</h3>
          <div class="row">
            <div><label>Cor dos bot√µes do CRM</label><input id="crmButtonColor" type="color" value="#c7f603"/> <span id="dotCrmButton" class="color-dot"></span></div>
            <div><label>Usar degrad√™ nos bot√µes</label><input id="crmButtonGradient" type="checkbox"/></div>
          </div>
          <div class="row">
            <div><label>Cor da aplica√ß√£o</label><input id="appColor" type="color" value="#7ad7ff"/> <span id="dotAppColor" class="color-dot"></span></div>
            <div><label>Tamanho da fonte</label><select id="appFontSize">
              <option value="12">Pequeno</option>
              <option value="14">M√©dio</option>
              <option value="16" selected>Normal</option>
              <option value="18">Grande</option>
              <option value="20">Muito grande</option>
            </select></div>
            <div><label>Fonte da aplica√ß√£o</label><select id="appFont">
              <option value="Inter">Inter</option>
              <option value="Poppins">Poppins</option>
              <option value="Roboto">Roboto</option>
              <option value="Open Sans">Open Sans</option>
              <option value="Arial">Arial</option>
            </select></div>
          </div>
          <div class="row">
            <div><label>Background do menu</label><input id="menuBgColor" type="color" value="#121734"/> <span id="dotMenuBg" class="color-dot"></span></div>
            <div><label>Transpar√™ncia do menu</label><input id="menuOpacity" type="range" min="0" max="100" value="100"/></div>
            <div><label>Cor do texto do menu</label><input id="menuTextColor" type="color" value="#eef3ff"/> <span id="dotMenuText" class="color-dot"></span></div>
          </div>
          <div class="row">
            <div><label>Fonte do menu</label><select id="menuFont">
              <option value="Inter">Inter</option>
              <option value="Poppins">Poppins</option>
              <option value="Roboto">Roboto</option>
              <option value="Open Sans">Open Sans</option>
              <option value="Arial">Arial</option>
            </select></div>
            <div><label>Usar degrad√™ no menu</label><input id="menuGradient" type="checkbox"/></div>
          </div>
          <div class="row">
            <button id="applyCrmCustomization" class="primary">Aplicar personaliza√ß√µes</button>
            <button id="resetCrmCustomization" class="ghost">Restaurar padr√£o</button>
          </div>
        </div>
        
        <div class="card">
          <h3>Adicionar nova aba</h3>
          <div class="row">
            <button id="genTabPrompt" class="ghost">Gerar prompt para LLM</button>
            <button id="addBlankTab" class="primary">+ Nova aba vazia</button>
          </div>
          <textarea id="tabPrompt" class="copy-input" placeholder="Clique em 'Gerar prompt para LLM' para preencher automaticamente."></textarea>
          <div class="row">
            <button id="copyTabPrompt">Copiar prompt</button>
          </div>
        </div>
        
        <div class="card">
          <h3>Adicionar nova funcionalidade</h3>
          <div class="row"><button id="genFeatPrompt" class="ghost">Gerar prompt para LLM</button></div>
          <textarea id="featPrompt" class="copy-input" placeholder="Clique em 'Gerar prompt para LLM' para preencher automaticamente."></textarea>
          <div class="row"><button id="copyFeatPrompt">Copiar prompt</button></div>
        </div>
        
        <div class="card">
          <h3>Personaliza√ß√µes avan√ßadas</h3>
          <div class="row">
            <div><label>Raio dos cards</label><input id="advRadius" type="range" min="8" max="24" value="16"/></div>
            <div><label>Gap do Kanban (px)</label><input id="advKanbanGap" type="number" min="8" max="48" value="20"/></div>
            <div><label>Cor do texto (global)</label><input id="advText" type="color" value="#eef3ff"/> <span id="dotAdvText" class="color-dot"></span></div>
          </div>
          <div class="row">
            <div><label>Cor do texto secund√°rio</label><input id="advTextDim" type="color" value="#c8d0ff"/> <span id="dotAdvTextDim" class="color-dot"></span></div>
            <div><label>Cor das bordas (muted)</label><input id="advMuted" type="color" value="#2a325e"/> <span id="dotAdvMuted" class="color-dot"></span></div>
            <div><label>Cor do card</label><input id="advCard" type="color" value="#161d3b"/> <span id="dotAdvCard" class="color-dot"></span></div>
          </div>
          <div class="row">
            <div><label>Cor de erro</label><input id="advDanger" type="color" value="#ff6b6b"/> <span id="dotAdvDanger" class="color-dot"></span></div>
            <div><label>Cor de alerta</label><input id="advWarning" type="color" value="#ffd166"/> <span id="dotAdvWarning" class="color-dot"></span></div>
            <div><label>Cor de sucesso</label><input id="advSuccess" type="color" value="#06d6a0"/> <span id="dotAdvSuccess" class="color-dot"></span></div>
          </div>
          <div class="row">
            <div><label>Largura colapsada do menu (px)</label><input id="advNavCollapsed" type="number" min="44" max="120" value="56"/></div>
            <div><label>Tamanho base da fonte (px)</label><input id="advBaseFont" type="number" min="12" max="20" value="16"/></div>
          </div>
          <div class="row">
            <button id="applyAdvanced" class="primary">Aplicar personaliza√ß√µes</button>
            <button id="resetAdvanced" class="ghost">Restaurar personaliza√ß√µes</button>
          </div>
        </div>
        
        <div class="card">
          <h3>GitHub Sync</h3>
          <div class="tiny">Armazene os dados (leads, tarefas, pessoas, tema) como arquivo JSON no seu reposit√≥rio do GitHub. Necessita um token com permiss√£o de conte√∫do (repo).</div>
          <div class="row">
            <div><label>Dono (owner)</label><input id="ghOwner" placeholder="ex: seu-usuario"/></div>
            <div><label>Reposit√≥rio</label><input id="ghRepo" placeholder="ex: seu-repo"/></div>
            <div><label>Branch</label><input id="ghBranch" placeholder="ex: main" value="main"/></div>
          </div>
          <div class="row">
            <div><label>Caminho do arquivo</label><input id="ghPath" placeholder="ex: data/neon-crm-data.json" value="neon-crm-data.json"/></div>
            <div><label>Token (PAT)</label><input id="ghToken" type="password" placeholder="ghp_..."/></div>
            <div style="flex:0 0 220px"><label>Auto salvar</label><input id="ghAutoSave" type="checkbox"/></div>
          </div>
          <div class="row">
            <button id="ghConnect" class="ghost">Conectar/Carregar do GitHub</button>
            <button id="ghSaveNow" class="primary">Salvar agora no GitHub</button>
            <button id="ghDisconnect" class="ghost">Desconectar</button>
          </div>
          <div class="tiny">Aten√ß√£o: o token fica salvo no seu navegador (localStorage). N√£o compartilhe este link com o token preenchido.</div>
        </div>
      </div>
    </main>
  </div>

  <!-- Modal de Backup -->
  <div id="backupModal" class="modal-backdrop" role="dialog" aria-modal="true">
    <div class="modal">
      <div class="flex-between" style="margin-bottom:8px"><strong>Salvar & Backup</strong><button onclick="closeBackupModal()" class="ghost">‚úï</button></div>
      <div class="row">
        <div class="card" style="flex:1">
          <h3>Exportar</h3>
          <div class="tiny">Baixe um backup completo em JSON.</div>
          <div class="row" style="margin-top:6px"><button id="btnExport" class="primary">Exportar dados (.json)</button></div>
        </div>
        <div class="card" style="flex:1">
          <h3>Importar</h3>
          <div class="tiny">Selecione um arquivo .json gerado pelo CRM.</div>
          <div class="row" style="align-items:flex-end">
            <div style="flex:1"><input type="file" id="fileImport" accept="application/json"/></div>
            <div><button id="btnImport" class="primary">Importar arquivo</button></div>
          </div>
          <div id="importResult" class="tiny" style="margin-top:6px"></div>
        </div>
      </div>
      <div class="tiny">Itens exportados: leads, tarefas, pessoas/empresas, etapas e tema.</div>
    </div>
  </div>

  <script src="assets/utils.js"></script>
  <script src="assets/migration.js"></script>
  <script src="assets/dev.js"></script>
</body>
</html>
